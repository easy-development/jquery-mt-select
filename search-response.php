<?php

$filterParam      = $_POST['mt_filter'];
/**
 * Required, the JS system will also check for selected and not display, but you're free to integrate it in PHP also.
 */
$selectedItemsIds = isset($_POST['mt_selected']) ? $_POST['mt_selected'] : array();

/**
 * I recommend MySQL Queries.
 */
$response = array(
  array('id' => '1', 'name' => 'German Hayashi', 'description' => '6369929147', 'picture_path' => 'dist/avatar.png'),array('id' => '2', 'name' => 'Jackqueline Andre', 'description' => '8461493908', 'picture_path' => 'dist/avatar.png'),array('id' => '3', 'name' => 'Maryanna Benito', 'description' => '2146097694', 'picture_path' => 'dist/avatar.png'),array('id' => '4', 'name' => 'Rosaria Coombes', 'description' => '3066999355', 'picture_path' => 'dist/avatar.png'),array('id' => '5', 'name' => 'Aron Crowley', 'description' => '7777508183', 'picture_path' => 'dist/avatar.png'),array('id' => '6', 'name' => 'Nelia Denman', 'description' => '4903067884', 'picture_path' => 'dist/avatar.png'),array('id' => '7', 'name' => 'Myrtie Shire', 'description' => '709272698', 'picture_path' => 'dist/avatar.png'),array('id' => '8', 'name' => 'Margarito Zanders', 'description' => '7181328372', 'picture_path' => 'dist/avatar.png'),array('id' => '9', 'name' => 'Paige Barsky', 'description' => '2169032018', 'picture_path' => 'dist/avatar.png'),array('id' => '10', 'name' => 'Shirley Vogt', 'description' => '7081501793', 'picture_path' => 'dist/avatar.png'),array('id' => '11', 'name' => 'Olinda Dunaway', 'description' => '5019538350', 'picture_path' => 'dist/avatar.png'),array('id' => '12', 'name' => 'Harry Mccraney', 'description' => '6575781850', 'picture_path' => 'dist/avatar.png'),array('id' => '13', 'name' => 'Tomasa Humble', 'description' => '8260182654', 'picture_path' => 'dist/avatar.png'),array('id' => '14', 'name' => 'Helen Morissette', 'description' => '8595546308', 'picture_path' => 'dist/avatar.png'),array('id' => '15', 'name' => 'Su Kimmell', 'description' => '1693457374', 'picture_path' => 'dist/avatar.png'),array('id' => '16', 'name' => 'Lavina Cozad', 'description' => '7700796701', 'picture_path' => 'dist/avatar.png'),array('id' => '17', 'name' => 'Lenard Tenorio', 'description' => '9013231489', 'picture_path' => 'dist/avatar.png'),array('id' => '18', 'name' => 'Melvin Petrey', 'description' => '9155793211', 'picture_path' => 'dist/avatar.png'),array('id' => '19', 'name' => 'Pearlie Biros', 'description' => '3278027407', 'picture_path' => 'dist/avatar.png'),array('id' => '20', 'name' => 'Jennifer Cygan', 'description' => '1844068495', 'picture_path' => 'dist/avatar.png'),array('id' => '21', 'name' => 'Li Reetz', 'description' => '4679021927', 'picture_path' => 'dist/avatar.png'),array('id' => '22', 'name' => 'Abram Beres', 'description' => '1783315414', 'picture_path' => 'dist/avatar.png'),array('id' => '23', 'name' => 'Allison Francois', 'description' => '9662189258', 'picture_path' => 'dist/avatar.png'),array('id' => '24', 'name' => 'Kacie Westlund', 'description' => '4931318832', 'picture_path' => 'dist/avatar.png'),array('id' => '25', 'name' => 'Vallie Agosta', 'description' => '683532718', 'picture_path' => 'dist/avatar.png'),array('id' => '26', 'name' => 'Maryann Chapa', 'description' => '4310675172', 'picture_path' => 'dist/avatar.png'),array('id' => '27', 'name' => 'Fidel Eckhoff', 'description' => '6222452950', 'picture_path' => 'dist/avatar.png'),array('id' => '28', 'name' => 'Isis Galaviz', 'description' => '8236105389', 'picture_path' => 'dist/avatar.png'),array('id' => '29', 'name' => 'Bruce Slick', 'description' => '9025880692', 'picture_path' => 'dist/avatar.png'),array('id' => '30', 'name' => 'Librada Setton', 'description' => '8493156234', 'picture_path' => 'dist/avatar.png'),array('id' => '31', 'name' => 'Rikki Balbuena', 'description' => '8183532296', 'picture_path' => 'dist/avatar.png'),array('id' => '32', 'name' => 'Carline Truett', 'description' => '5395809845', 'picture_path' => 'dist/avatar.png'),array('id' => '33', 'name' => 'Tobias Heyman', 'description' => '6954650147', 'picture_path' => 'dist/avatar.png'),array('id' => '34', 'name' => 'Dagny Bail', 'description' => '329629991', 'picture_path' => 'dist/avatar.png'),array('id' => '35', 'name' => 'Janita Buster', 'description' => '8362809200', 'picture_path' => 'dist/avatar.png'),array('id' => '36', 'name' => 'Verdie Barlett', 'description' => '4732158331', 'picture_path' => 'dist/avatar.png'),array('id' => '37', 'name' => 'Christina Demo', 'description' => '5132697876', 'picture_path' => 'dist/avatar.png'),array('id' => '38', 'name' => 'Tamra Hagood', 'description' => '8972081898', 'picture_path' => 'dist/avatar.png'),array('id' => '39', 'name' => 'Sherman Bertsch', 'description' => '1913486703', 'picture_path' => 'dist/avatar.png'),array('id' => '40', 'name' => 'Agnes Shaffer', 'description' => '7201729899', 'picture_path' => 'dist/avatar.png'),array('id' => '41', 'name' => 'Reba Greaney', 'description' => '6053583692', 'picture_path' => 'dist/avatar.png'),array('id' => '42', 'name' => 'Antony Mortellaro', 'description' => '6833025054', 'picture_path' => 'dist/avatar.png'),array('id' => '43', 'name' => 'Mari Hisle', 'description' => '3777511750', 'picture_path' => 'dist/avatar.png'),array('id' => '44', 'name' => 'Nelda Ells', 'description' => '4313766347', 'picture_path' => 'dist/avatar.png'),array('id' => '45', 'name' => 'Marlen Lehman', 'description' => '5428571363', 'picture_path' => 'dist/avatar.png'),array('id' => '46', 'name' => 'Britany Jansen', 'description' => '5370969124', 'picture_path' => 'dist/avatar.png'),array('id' => '47', 'name' => 'Teri Nuss', 'description' => '2014563048', 'picture_path' => 'dist/avatar.png'),array('id' => '48', 'name' => 'Shenita Heaston', 'description' => '4441802858', 'picture_path' => 'dist/avatar.png'),array('id' => '49', 'name' => 'Corina Bradish', 'description' => '4526762336', 'picture_path' => 'dist/avatar.png'),array('id' => '50', 'name' => 'Jade Plain', 'description' => '5192590456', 'picture_path' => 'dist/avatar.png'),array('id' => '51', 'name' => 'Bobbie Brungardt', 'description' => '6185871353', 'picture_path' => 'dist/avatar.png'),array('id' => '52', 'name' => 'Sergio Selby', 'description' => '9105784263', 'picture_path' => 'dist/avatar.png'),array('id' => '53', 'name' => 'Sheilah Stamand', 'description' => '6875905874', 'picture_path' => 'dist/avatar.png'),array('id' => '54', 'name' => 'Tonja Tellis', 'description' => '5848060617', 'picture_path' => 'dist/avatar.png'),array('id' => '55', 'name' => 'Lorette Lueders', 'description' => '4037103095', 'picture_path' => 'dist/avatar.png'),array('id' => '56', 'name' => 'Viola Vanish', 'description' => '7459438593', 'picture_path' => 'dist/avatar.png'),array('id' => '57', 'name' => 'Ed Elsner', 'description' => '158735789', 'picture_path' => 'dist/avatar.png'),array('id' => '58', 'name' => 'Cathrine Cohn', 'description' => '259556050', 'picture_path' => 'dist/avatar.png'),array('id' => '59', 'name' => 'Zoila Zachery', 'description' => '5695543983', 'picture_path' => 'dist/avatar.png'),array('id' => '60', 'name' => 'Kyung Kirsch', 'description' => '9084616486', 'picture_path' => 'dist/avatar.png'),array('id' => '61', 'name' => 'Larisa Loss', 'description' => '8652712285', 'picture_path' => 'dist/avatar.png'),array('id' => '62', 'name' => 'Cassy Chalk', 'description' => '3879076280', 'picture_path' => 'dist/avatar.png'),array('id' => '63', 'name' => 'Ester Esquer', 'description' => '4480426332', 'picture_path' => 'dist/avatar.png'),array('id' => '64', 'name' => 'Vallie Virgil', 'description' => '5607362433', 'picture_path' => 'dist/avatar.png'),array('id' => '65', 'name' => 'Devorah Darland', 'description' => '4108706272', 'picture_path' => 'dist/avatar.png'),array('id' => '66', 'name' => 'Jacqueline Jansson', 'description' => '2843235532', 'picture_path' => 'dist/avatar.png'),array('id' => '67', 'name' => 'Nakita Nethery', 'description' => '339520764', 'picture_path' => 'dist/avatar.png'),array('id' => '68', 'name' => 'Inell Isakson', 'description' => '9141404153', 'picture_path' => 'dist/avatar.png'),array('id' => '69', 'name' => 'Mauricio Maxson', 'description' => '1815317436', 'picture_path' => 'dist/avatar.png'),array('id' => '70', 'name' => 'Blanche Bolyard', 'description' => '2153007468', 'picture_path' => 'dist/avatar.png'),array('id' => '71', 'name' => 'Brunilda Batiste', 'description' => '6343134053', 'picture_path' => 'dist/avatar.png'),array('id' => '72', 'name' => 'Johanne Jacobus', 'description' => '7768901129', 'picture_path' => 'dist/avatar.png'),array('id' => '73', 'name' => 'Cornell Clerk', 'description' => '8886032527', 'picture_path' => 'dist/avatar.png'),array('id' => '74', 'name' => 'Corine Cathcart', 'description' => '120645803', 'picture_path' => 'dist/avatar.png'),array('id' => '75', 'name' => 'Bettye Braley', 'description' => '2082667480', 'picture_path' => 'dist/avatar.png'),array('id' => '76', 'name' => 'Albert Acuff', 'description' => '4314603891', 'picture_path' => 'dist/avatar.png'),array('id' => '77', 'name' => 'Kamala Koeppel', 'description' => '5391614928', 'picture_path' => 'dist/avatar.png'),array('id' => '78', 'name' => 'Claretta Collins', 'description' => '3997230529', 'picture_path' => 'dist/avatar.png'),array('id' => '79', 'name' => 'Tran Tripp', 'description' => '8656406749', 'picture_path' => 'dist/avatar.png'),array('id' => '80', 'name' => 'Milford Massey', 'description' => '9818377264', 'picture_path' => 'dist/avatar.png'),array('id' => '81', 'name' => 'Margaret Maheux', 'description' => '9089820989', 'picture_path' => 'dist/avatar.png'),array('id' => '82', 'name' => 'Horacio Hemphill', 'description' => '4842278107', 'picture_path' => 'dist/avatar.png'),array('id' => '83', 'name' => 'Ashli Annis', 'description' => '8924161528', 'picture_path' => 'dist/avatar.png'),array('id' => '84', 'name' => 'Noma Neer', 'description' => '5965726864', 'picture_path' => 'dist/avatar.png'),array('id' => '85', 'name' => 'Edyth Eurich', 'description' => '690338724', 'picture_path' => 'dist/avatar.png'),array('id' => '86', 'name' => 'Craig Cail', 'description' => '2961264623', 'picture_path' => 'dist/avatar.png'),array('id' => '87', 'name' => 'Ricarda Reagan', 'description' => '3425165458', 'picture_path' => 'dist/avatar.png'),array('id' => '88', 'name' => 'Frederick Frew', 'description' => '749074514', 'picture_path' => 'dist/avatar.png'),array('id' => '89', 'name' => 'Noreen Navarrette', 'description' => '3120820674', 'picture_path' => 'dist/avatar.png'),array('id' => '90', 'name' => 'Isobel Im', 'description' => '9020709446', 'picture_path' => 'dist/avatar.png'),array('id' => '91', 'name' => 'Allie Aparicio', 'description' => '9733691000', 'picture_path' => 'dist/avatar.png'),array('id' => '92', 'name' => 'Barbara Balogh', 'description' => '1773532964', 'picture_path' => 'dist/avatar.png'),array('id' => '93', 'name' => 'Lurline Leader', 'description' => '2899785727', 'picture_path' => 'dist/avatar.png'),array('id' => '94', 'name' => 'Vicenta Vallee', 'description' => '4214117333', 'picture_path' => 'dist/avatar.png'),array('id' => '95', 'name' => 'Charmaine Conlin', 'description' => '7280895397', 'picture_path' => 'dist/avatar.png'),array('id' => '96', 'name' => 'Coretta Counce', 'description' => '6908492004', 'picture_path' => 'dist/avatar.png'),array('id' => '97', 'name' => 'Easter Euler', 'description' => '6957352870', 'picture_path' => 'dist/avatar.png'),array('id' => '98', 'name' => 'Melida Mckennon', 'description' => '7520416165', 'picture_path' => 'dist/avatar.png'),array('id' => '99', 'name' => 'Joella Joye', 'description' => '6049896157', 'picture_path' => 'dist/avatar.png'),array('id' => '100', 'name' => 'Joyce July', 'description' => '8672670307', 'picture_path' => 'dist/avatar.png'),
);

foreach($response as $key => $r) {
  if(in_array($r['id'], $selectedItemsIds)
      || (stripos($r['description'], $filterParam) === false && stripos($r['name'], $filterParam) === false) )
    unset($response[$key]);
}

/**
Data will be used as given in the personInforamtionHTMLSkeleton, adding extra fields can be easy, both in JS display & PHP
personInformationHTMLSkeleton :
'<div class="person_container">' +
'<div class="left">' +
'<img src="{picture_path}"/>' +
'</div>' +
'<div class="right">' +
'<p class="name">{name}</p>' +
'<p class="description">{description}</p>' +
'</div>' +
'</div>',

 */

if(empty($response)) {
  echo json_encode(
    array(
      'status'   =>  'empty',
      'message'  =>  'No Results available'
    ));
  exit;
}

echo json_encode(
  array(
    'status'  =>  'ok',
    'results' =>  $response
  )
);
exit;